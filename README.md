# jooble-test-task

## Short description
Id is 5 chars long, consists of ascii letters(a-zA-z) and digits(0-9) in total 62 options for single char and 6.471.002 total combinations for 5 chars.
Free ids are pregenerated by celery worker and kept in redis as list converted to json.

## Api
- /generate
  - Params:
    - url (query param) - url to shorten
    - ttl (query param) - time to live for short url in seconds(from 1 day to 1 year, default is 90 days)
  - Response: shorten url

## Run
- pip install -r requirements.txt
- create psql database and execute db/shortened_url.sql on it in order to create table
- create redis db
- configure .env in project root as shown in .env.example
- source venv/bin/activate
- celery --app celery_worker.celery worker -l INFO 
- celery --app celery_worker.celery beat -l INFO
- python manage.py run
